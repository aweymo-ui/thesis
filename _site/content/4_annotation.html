<!DOCTYPE html>
<html lang="en" class="h-100">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<title>Annotation Extraction Tool | Using Python Tools and Obsidian to Connect and Visualize Research</title>
<meta name="description" content="Annotation extraction tool for tagging and visualizing groups of literature in markdown.">
<meta name="keywords" content="">
<meta name="author" content="Andrew Weymouth">
<link rel="icon" type="image/png" href="http://localhost:4000/favicon.png">

<!--
  _      __         __        __           ______               __     __     
 | | /| / /__  ____/ /__ ___ / /  ___  ___/_  __/__ __ _  ___  / /__ _/ /____ 
 | |/ |/ / _ \/ __/  '_/(_-</ _ \/ _ \/ _ \/ / / -_)  ' \/ _ \/ / _ `/ __/ -_)
 |__/|__/\___/_/ /_/\_\/___/_//_/\___/ .__/_/  \__/_/_/_/ .__/_/\_,_/\__/\__/ 
                                    /_/                /_/                    

    built with workshop-template-b, evanwill, https://github.com/evanwill/workshop-template-b
--> 
   
<!-- Open Graph meta -->
<meta property="og:title" content="Annotation Extraction Tool | Using Python Tools and Obsidian to Connect and Visualize Research" />
<meta property="og:type" content="website" />
<meta property="og:description" content="Annotation extraction tool for tagging and visualizing groups of literature in markdown." />
<meta property="og:image" content="http://localhost:4000/images/py_ob_banner.gif" />
<meta property="og:site_name" content="Using Python Tools and Obsidian to Connect and Visualize Research" />
<meta property="og:url" content="http://localhost:4000/content/4_annotation.html" />
<meta property="og:locale" content="en_US" />
<!-- schema.org JSON-LD -->
<script type="application/ld+json">{ "@context":"http://schema.org", "@type":"WebPage", "headline":"Annotation Extraction Tool | Using Python Tools and Obsidian to Connect and Visualize Research", "author": { "@type":"Person", "name":"Andrew Weymouth"}, "description":"Annotation extraction tool for tagging and visualizing groups of literature in markdown.", "image": "http://localhost:4000/images/py_ob_banner.gif", "url":"http://localhost:4000/content/4_annotation.html" }</script>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Anta&display=swap" rel="stylesheet">

<link rel="stylesheet" href="/assets/lib/spotlight.min.css">
<link rel="stylesheet" href="/assets/lib/bootstrap.min.css" type="text/css">
<link rel="stylesheet" href="/assets/css/styles.css">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:ital,wght@0,400;0,600;0,700;1,400;1,600;1,700&family=EB+Garamond:ital,wght@0,400..800;1,400..800&display=swap" rel="stylesheet">


<!-- Last build date: 2025-02-19 -->
  </head>

  <body class="d-flex flex-column h-100">
    <div id="skip-to-content"><a href="#maincontent">Skip to main content</a></div>
    <header>
    <nav class="navbar navbar-light pb-lg-0 border-bottom" style="background-color: #F0F8FF;">
    <div class="container">
        <h1 class="navbar-brand" style="white-space: normal;"><a href="/">
            
            Using Python Tools and Obsidian to Connect and Visualize Research
        </a></h1>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav" aria-controls="mainNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="mainNav">
            <ul class="navbar-nav nav-tabs justify-content-end">
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/1_intro.html">
                        
                            Introduction
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/2_starting.html">
                        
                            Getting Started
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/3_prep.html">
                        
                            Preparation
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link active p-3 h-100" href="/content/4_annotation.html">
                        
                            Annotation Extraction Tool
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/5_python.html">
                        
                            Running Python
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/6_obsidian.html">
                        
                            Obsidian
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/7_vis.html">
                        
                            Visualization
                        
                    </a>
                </li>
            
                <li class="nav-item">
                    <a class="nav-link p-3 h-100" href="/content/8_appendix.html">
                        
                            Notes and Appendix
                        
                    </a>
                </li>
            
            </ul>  
        </div>
    </div>
</nav>

    </header>

    <main id="maincontent" role="main" aria-label="Content" class="flex-shrink-0">
      
      <div class="container my-4">
<h1>Annotation Extraction Tool</h1>

<div class="ms-5 mb-3 border-bottom">
    </div>
    
<div class="my-4">

<figure class="figure d-block text-center p-3">
    <a class="spotlight" href="/images/py_ob_15.jpeg"><img data-src="/images/py_ob_15.jpeg" alt="Visualization of two book pages with highlights being extracted and categorized" style="width:100%;" class="figure-img img-fluid lazyload" /></a><figcaption class="figure-caption">Identifying and Categorizing Highlighted Text</figcaption></figure>

<p><a href="https://github.com/Scholarly-Projects/annotation_extraction" target="_blank" rel="noopener">This Python tool</a> seeks out a series of <strong>six highlight colors</strong> which all have designations and then extracting the text with those highlights into two different markdown files where these excerpts are displayed either categorically or chronologically, from the beginning to the end of the document you annotated. Here are the colors and their corresponding categories as they are currently set up in the tool. The numbers after each of the color names is the percent of red, green and blue in the RGB color value.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   light_blue = (0.659, 0.929, 1.000)    
    yellow = (1.0, 1.0, 0.039)            
    orange = (0.992, 0.502, 0.031)        
    red = (1.0, 0.255, 0.494)             
    purple = (0.902, 0.522, 1.0)          
    gray = (0.902, 0.902, 0.902)          

color_map = 
        "General Notes": light_blue,
        "Definitions, Locations, People, Organizations": yellow,
        "Author Thesis and Methodology": orange,
        "Important": red,
        "Stats": purple,
        "Quotes": gray
</code></pre></div></div>

<p><strong>Both the colors and the designations can be customized to your research</strong> but note that the colors need to be distinct enough that the tool can differentiate between a light blue and a light green, for instance.</p>

<figure class="figure d-block text-center p-3">
    <a class="spotlight" href="/images/py_ob_18.gif"><img data-src="/images/py_ob_18.gif" alt="Demo of Annotation Extraction Tool" style="width:100%;" class="figure-img img-fluid lazyload" /></a><figcaption class="figure-caption">Demo of Annotation Extraction Tool</figcaption></figure>

<p>This tool works by importing the <code class="language-plaintext highlighter-rouge">fitz</code> module of PyMuPDF, a library used for working with PDF files, including extracting text and handling annotations. The header material also includes importing Python’s <code class="language-plaintext highlighter-rouge">os</code> module, which allows you to interact with the operating system and reading directories and file paths and the <code class="language-plaintext highlighter-rouge">re</code> module, which provides regular expression operations and searching and modifying the text we will be extracting.</p>

<div class="symbol-container">
    <p class="symbol">&#10042;</p>
</div>

<p><strong>Here are all of the steps of the Python code:</strong></p>

<ul>
  <li>Cleaning text:
    <ul>
      <li>Removing hyphenated line breaks</li>
      <li>Removing line breaks within text and replacing them with a space (with varying degrees of success… see the <a href="./8_appendix.html#future-refinement">Future Refinement</a> section)</li>
      <li>Removing non-ASCII characters and extra whitespace as it occurs in the text</li>
    </ul>
  </li>
  <li>Extracting highlighted text, mapping colors to their respective categories and using a tolerance to determine if the detected color is close enough to the reference color</li>
  <li>exporting these extracted passages into two different folders in the B folder of the Python tool
    <ul>
      <li>One arranged categorically (important, definitions, quotes, etc.)</li>
      <li>One arranged chronologically (page 1, page 2, page 3, etc.)</li>
    </ul>
  </li>
</ul>


</div>

</div>
      
    </main>

    <footer class="site-footer bg-light-blue mt-auto">
  <div class="container">
    <nav class="mt-3 mb-4">
      <ul class="nav nav-pills nav-fill">
        
        <li class="nav-item"><a class="nav-link h3" href="/content/1_intro.html">Introduction</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/content/2_starting.html">Getting Started</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/content/3_prep.html">Preparation</a></li>
        
        <li class="nav-item"><a class="nav-link h3 active" href="/content/4_annotation.html">Annotation Extraction Tool</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/content/5_python.html">Running Python</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/content/6_obsidian.html">Obsidian</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/content/7_vis.html">Visualization</a></li>
        
        <li class="nav-item"><a class="nav-link h3" href="/content/8_appendix.html">Notes and Appendix</a></li>
        
      </ul>
    </nav>
    <div class="row align-items-center pb-5">
        <div id="footer-title" class="col-md">
          <a class="h5" href="/">Using Python Tools and Obsidian to Connect and Visualize Research</a>
          <br>
          <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/">CC BY-NC-ND 4.0, </a> 2024 <a href="https://github.com/aweymo">Andrew Weymouth</a>
        </div>
        <div class="col-md">
          
          <script>
            function site_search() {
              var query = document.getElementById("site-search").value;
              window.open("/search/index.html?q=" + encodeURIComponent(query), "_self" );
            }
          </script>
          <form class="form-inline my-2 my-lg-0 float-end" role="search" id="search" onsubmit="site_search(); return false;">
            <div class="input-group">
              <input id="site-search" class="form-control" type="text" placeholder="Search" aria-label="Search box">
              <div class="input-group-append">
                <button class="btn btn-secondary" type="submit"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16"> <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/> </svg><span class="visually-hidden">submit search</span></button>
              </div>
            </div>
          </form>
          
        </div>
    </div>
  </div>
</footer>

    <!-- Bootstrap JS bundle -->
<script src="/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other optional js -->


<script src="/assets/lib/lazysizes.min.js" async></script>
<script src="/assets/lib/spotlight.min.js" defer></script>
<script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
            document.getElementById("scroll-to-top").style.color = "#00448c"; // Change button color to #00448c
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        window.scroll({
            top: 0, 
            left: 0, 
            behavior: 'smooth'
        });
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link btn-lg" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-up-square" viewBox="0 0 16 16"> <path fill-rule="evenodd" d="M15 2a1 1 0 0 0-1-1H2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V2zM0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm8.5 9.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708l3-3a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V11.5z"/> </svg>
</button>



  </body>

</html>